<template name="Admin">

  <div style="margin-top: 20px;"></div>

  <div class="ui container">
    <div class="ui large header">Santa Cruise Admin</div>

    {{> ScheduledMessages }}

    {{> HuntSteps }}

    {{> Participants }}

  </div>
</template>

<template name="ScheduledMessages">
    <div class="ui header">Scheduled Messages</div>

    <table class="ui striped table">
      <thead>
        <tr>
          <th>Time</th>
          <th>Message</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {{#each messages }}
        <tr>
          <td>
            {{>
            editableText
            collection="scheduled-messages"
            field="sendAt"
            substitute="<i class='pencil icon'></i>"
            }}
          </td>
          <td>
            {{>
            editableText
            collection="scheduled-messages"
            field="messageText"
            substitute="<i class='pencil icon'></i>"
            }}
          </td>
          <td class="right aligned">
            <button class="ui button">Test</button>
            <button class="ui red button" rel="remove">Remove</button>
          </td>
        </tr>
        {{/each}}
      </tbody>

      <tfoot>
        <td colspan="3"><button class="ui button" rel="add">Add</button></td>
      </tfoot>
    </table>
</template>

<template name="HuntSteps">
    <div class="ui header">
      Treasure Hunt Steps
    </div>

    <table class="ui striped table">
      <thead>
        <tr>
          <th>Hint</th>
          <th>Answer</th>
          <th>Order</th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        {{#each steps}}
        <tr>
          <td>
            {{>
            editableText
            collection="hunt-steps"
            field="hint"
            substitute="<i class='pencil icon'></i>"
            }}
          </td>
          <td>
            {{>
            editableText
            collection="hunt-steps"
            field="answer"
            substitute="<i class='pencil icon'></i>"
            }}
          </td>
          <td>
            <div class="ui icon buttons">
              <button class="ui button" rel="move-up"><i class="chevron up icon"></i></button>
              <div class="or" data-text="{{position}}"></div>
              <button class="ui button" rel="move-down"><i class="chevron down icon"></i></button>
            </div>
          </td>
          <td class="right aligned">
            <button class="ui red button" rel="remove">Remove</button>
          </td>
        </tr>

        {{/each}}
      </tbody>

      <tfoot>
        <td colspan="4"><button class="ui button" rel="add">Add</button></td>
      </tfoot>
    </table>

</template>

<template name="Participants">
  <div class="ui header">
    Participants
  </div>

  <table class="ui striped table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Phone</th>
        <th>Step</th>
        <th>Registered</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      {{#each participants }}
      <tr>
        <td>
          {{>
          editableText
          collection="participants"
          field="name"
          substitute="Anonymous"
          }}
        </td>
        <td>{{phone}}</td>
        <td>{{step}}</td>
        <td>{{#if registered}}<i class="green check icon"></i>{{/if}}</td>
        <td class="right aligned">
          <button class="ui button" rel="reset-step">Reset to first step</button>
          <button class="ui red button" rel="remove">Remove</button>
        </td>
      </tr>
      {{/each}}
    </tbody>
    <tfoot>
      <tr>
        <td colspan="4">Text <b>foo</b> to xxx xxx xxxx to register</td>
      </tr>
    </tfoot>
  </table>
</template>
